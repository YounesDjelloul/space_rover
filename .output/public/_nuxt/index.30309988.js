var k=Object.defineProperty;var N=(n,e,t)=>e in n?k(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var u=(n,e,t)=>(N(n,typeof e!="symbol"?e+"":e,t),t);import{d as w,t as c,v as i,x as o,L as W,r as p,c as $,M as B,N as C,O as R,P as r,Q as y,F,z as g,R as L,S as T,T as E,y as v,U as H,_ as V}from"./entry.501b60cf.js";import U from"./Icon.84e768d1.js";import"./index.11ac83a7.js";const M=o("div",{class:"container__welcome__title"},"Welcome To The Space Rover Dashboard",-1),O=o("div",{class:"container__welcome__arrows"},[o("div",{class:"chevron"}),o("div",{class:"chevron"}),o("div",{class:"chevron"})],-1),G=w({__name:"WelcomeSection",props:["container__dashboard"],setup(n){const e=n,t=()=>{var s;(s=e.container__dashboard)==null||s.scrollIntoView({behavior:"smooth"})};return(s,a)=>(c(),i("div",null,[M,o("div",{class:"trigger"},[o("button",{class:"container__welcome__go-dashboard",onClick:t},"go dashboard"),O])]))}}),z=""+new URL("mars-rover.c3612021.svg",import.meta.url).href;class x{constructor(e,t,s,a){u(this,"name");u(this,"placement");u(this,"F");u(this,"B");u(this,"next");u(this,"prev");this.name=e,this.placement=t,this.F=s,this.B=a}}const A=()=>{const n=new x("N","y",1,-1),e=new x("E","x",1,-1),t=new x("S","y",-1,1),s=new x("W","x",-1,1);return n.next=e,n.prev=s,e.prev=n,e.next=t,t.prev=e,t.next=s,s.prev=t,s.next=n,n},I=(n,e)=>{let t=[];for(let s=0;s<=n-1;s++){const a=Array(e).fill("");t.push(a)}return t},D=W("roverState",()=>{const t=p(I(10,10)),s=A(),a=p(s),l=$(()=>a.value.name),d=B({x:0,y:0}),m=h=>{const _=a.value.placement,S=a.value[h];d[_]=Math.max(0,Math.min(10-1,d[_]+S))},f=h=>{h=="L"&&(a.value=a.value.prev),h=="R"&&(a.value=a.value.next)},b=()=>{d.x=0,d.y=0,a.value=s};return{roverCords:d,directionName:l,grid:t,gridHeight:10,gridWidth:10,handleCommands:h=>{b();for(const _ of h)_=="L"||_=="R"?f(_):(_=="F"||_=="B")&&m(_)}}}),P={class:"dashboard-container__rover-grid"},j={class:"rover-grid__row"},q={class:"rover-grid__row__cell"},Q={key:0},X={key:1},Y={__name:"DashboardGrid",setup(n){const e=D(),t=$(()=>e.roverCords);function s(a,l){return a==t.value.x&&e.gridHeight-l-1==t.value.y}return(a,l)=>(c(),i("div",P,[(c(!0),i(C,null,R(r(e).grid.reverse(),(d,m)=>(c(),i("div",j,[(c(!0),i(C,null,R(d,(f,b)=>(c(),i("span",q,[s(b,m)?(c(),i("span",Q,[o("img",{class:y(r(e).directionName),src:z,alt:"R"},null,2)])):(c(),i("span",X,"."))]))),256))]))),256))]))}},J=Y;function K(n){return/^(F|B|L|R)*$/.test(n)}const Z={class:"dashboard-container__details"},ee={class:"dashboard__controllers"},oe=o("label",{for:"commands"},"enter commands",-1),se={class:"control"},te={class:"grid-dimensions"},ne={key:0,class:"commands__errors"},ae={class:"coordinates"},re=o("div",{class:"triangle"},null,-1),ce=o("div",{class:"dashboard-container__guide"},[o("div",{class:"dashboard-container__guide__title"},"guide"),o("div",{class:"guide__commands"},[o("div",null,[o("span",null,"F: Forward"),o("span",null,"B: Backward")]),o("div",null,[o("span",null,"L: Left"),o("span",null,"R: Right")])])],-1),ie=w({__name:"DashboardDetails",setup(n){const e=D(),t=$(()=>e.roverCords),s=p(""),a=p(!1);return F(()=>{if(s.value=s.value.toUpperCase(),!K(s.value)){a.value=!0;return}a.value=!1,e.handleCommands(s.value)}),(l,d)=>{const m=U;return c(),i("div",Z,[o("div",ee,[o("div",{class:y(["commands",{"has-errors":r(a)}])},[oe,o("div",se,[g(m,{name:"ph:command-duotone",color:"white"}),L(o("input",{id:"commands",type:"text",placeholder:"Commands..","onUpdate:modelValue":d[0]||(d[0]=f=>E(s)?s.value=f:null),class:"commands__input"},null,512),[[T,r(s)]]),o("span",te,v(r(e).gridHeight)+" Ã— "+v(r(e).gridWidth),1)]),r(a)?(c(),i("div",ne,"invalid characters, check the guide please")):H("",!0)],2),o("div",ae,[o("div",{class:y(["coordinates__direction",r(e).directionName])},[re,o("span",null,v(r(e).directionName),1)],2),o("div",null,[o("div",null,"X: "+v(r(t).x),1),o("div",null,"Y: "+v(r(t).y),1)])])]),ce])}}});const de={},_e={class:"dashboard-container"},le=o("div",{class:"dashboard-container__title"},"rover control panel",-1),ue={class:"dashboard-container__body"};function he(n,e){const t=J,s=ie;return c(),i("div",_e,[le,o("div",ue,[g(t),g(s)])])}const me=V(de,[["render",he]]),ve={class:"container"},pe={class:"container__welcome"},we=w({__name:"index",setup(n){const e=p();return(t,s)=>{const a=G,l=me;return c(),i("div",ve,[o("div",pe,[g(a,{container__dashboard:r(e)},null,8,["container__dashboard"])]),o("div",{class:"container__dashboard",ref_key:"container__dashboard",ref:e},[g(l)],512)])}}});export{we as default};
